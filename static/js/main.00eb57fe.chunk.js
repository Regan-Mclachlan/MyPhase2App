(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{14:function(e,t,n){},15:function(e,t,n){},17:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),i=n(9),c=n.n(i),o=(n(14),n.p,n(15),n(2)),s=n(3),l=n(4),u=n(6),g=n(5),p=n(8),d=n(0),j=function(e){Object(u.a)(n,e);var t=Object(g.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={liked:!1},e.toggle=function(){var t=e.state.liked;t=!t,e.setState({liked:t})},e}return Object(l.a)(n,[{key:"render",value:function(){var e=this;return Object(d.jsx)("div",{className:"container",onClick:function(){return e.toggle()},children:!1===this.state.liked?"\u2764":"\u2764\ufe0f"})}}]),n}(a.Component);function h(e){var t=e.Anime,n=Object(a.useState)(t),r=Object(p.a)(n,2),i=r[0],c=r[1],s=Object(a.useState)("current time"),l=Object(p.a)(s,2),u=l[0],g=l[1];return Object(a.useEffect)((function(){!function(){var e=i.nextAiringEpisode.timeUntilAiring,t=Math.floor(e/86400);e-=3600*t*24;var n=Math.floor(e/3600);e-=3600*n;var a=Math.floor(e/60);e-=60*a,g("".concat(t," days,").concat(n," Hrs,").concat(a," Minutes,").concat(e," Seconds"))}()}),[i.nextAiringEpisode.timeUntilAiring,u]),Object(a.useEffect)((function(){var e=setInterval((function(){var e=i.nextAiringEpisode.timeUntilAiring-1;c(Object(o.a)(Object(o.a)({},i),{},{nextAiringEpisode:{timeUntilAiring:e}}))}),1e3);return function(){return clearInterval(e)}})),Object(d.jsxs)("div",{id:"gridTitles",children:[i.title.romaji,Object(d.jsxs)("div",{id:"Card",children:[Object(d.jsx)("img",{className:"titleImages",src:i.coverImage.medium}),Object(d.jsx)("br",{}),i.averageScore,"/100",Object(d.jsx)(j,{}),Object(d.jsx)("div",{id:"timers",style:{color:"white"},children:u})]})]})}var f=function(e){Object(u.a)(n,e);var t=Object(g.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i))).pageRef=r.a.createRef(null),e.state={animes:[],page:1},e.fetchData=function(){var t="\n  query ($id: Int, $page: Int = ".concat(e.pageRef.current,', $perPage: Int) {\n    Page (page: $page, perPage: $perPage) {\n      pageInfo {\n        total\n        currentPage\n        lastPage\n        hasNextPage\n        perPage\n      }\n      media (id: $id, status: RELEASING, type: ANIME, isAdult: false, \n        popularity_greater: 8, startDate_greater: 20210000, countryOfOrigin: "JP", sort: POPULARITY_DESC) {\n        id\n        title {\n          romaji\n          english\n        }\n        coverImage {\n          medium\n        }\n        episodes\n        averageScore\n        nextAiringEpisode {\n          timeUntilAiring\n          }\n      }\n    }\n  }\n  \n'),n={method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({query:t})};return fetch("https://graphql.anilist.co",n).then(e.handleResponse).then(e.handleData).catch(e.handleError)},e.handleResponse=function(e){return e.json().then((function(t){return e.ok?t:Promise.reject(t)}))},e.handleData=function(e){var t=[];return t.push(e.data.Page.media),t},e.handleError=function(e){alert("Error, check console"),console.error(e)},e.pageNext=function(){e.setState(Object(o.a)(Object(o.a)({},e.state),{},{page:e.state.page+1})),console.log("currentRef",e.pageRef.current),e.pageRef.current=e.pageRef.current+1,e.fetchData().then((function(t){e.setState({animes:t[0]}),console.log(t)})),console.log(e.pageRef.current)},e.pagePrev=function(){console.log("state prev",e.state.page),e.setState(Object(o.a)(Object(o.a)({},e.state),{},{page:e.state.page-1}))},e.RomajiTitles=function(){return e.state.animes.map((function(e){return Object(d.jsx)(h,{Anime:e})}))},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.pageRef.current=1,this.fetchData().then((function(t){console.log({animes:t[0]}),e.setState({animes:t[0]})}))}},{key:"componentDidUpdate",value:function(e,t){console.log("previousstate",t),console.log("currentState",this.state)}},{key:"render",value:function(){return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("div",{className:"Titles",children:this.RomajiTitles()}),Object(d.jsxs)("div",{children:[Object(d.jsx)("button",{onClick:this.pagePrev,children:"Previous Page"}),Object(d.jsx)("button",{onClick:this.pageNext,children:"Next Page"})]})]})}}]),n}(a.Component);var b=function(){return Object(d.jsxs)("div",{className:"App",children:[Object(d.jsx)("header",{className:"App-header"}),Object(d.jsx)(f,{})]})},m=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,18)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,i=t.getLCP,c=t.getTTFB;n(e),a(e),r(e),i(e),c(e)}))};c.a.render(Object(d.jsx)(r.a.StrictMode,{children:Object(d.jsx)(b,{})}),document.getElementById("root")),m()}},[[17,1,2]]]);
//# sourceMappingURL=main.00eb57fe.chunk.js.map